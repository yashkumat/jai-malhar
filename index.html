<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Best Chinese Joint in Ghoti">
    <meta name="author" content="Yash Kumat">
    <title>Jai Malhar Chinese</title>
    <meta property="og:title" content="Jai Malhar Chinese, Ghoti" />
    <meta property="og:url" content="https://yashkumat.github.io/jai-malhar/" />
    <meta property="og:image" content="https://ia.media-imdb.com/images/rock.jpg" />
    
    <link rel="icon" href="share-icon.png">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" integrity="sha512-HK5fgLBL+xu6dm/Ii3z4xhlSUyZgTT9tuc/hSrtw6uzJOvgRr2a9jyxxT1ely+B+xFAmJKVSTbpM/CuL7qxO8w==" crossorigin="anonymous" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />

    <style>
      html {
        scroll-behavior: smooth;
      }
    </style>
  </head>
  <body>
    
<header>
  <div class="collapse bg-dark" id="navbarHeader">
    <div class="container">
      <div class="row pt-4">
        <div class="col-sm-8 col-md-7">
          <h4 class="text-white">About</h4>
          <div class="row py-4">
            <div class="col-sm-4">
              <img src="soyabean.png" alt="" class="img-fluid rounded-circle py-4">
            </div>
            <div class="col-sm-8 d-flex flex-column align-items-center">
              <p class="text-muted text-justify p-4">Bhagat Brothers started and manage this Chinese food joint in Ghoti on Bhandardara Road. <br>They serve Tasty & Crunchy Noodles, Rice, Soups, Chillies made with good quality material and at most affordable price.</p>
              <p class="text-muted">Cars on rent also available in good condition and at best price.</p>
              <h4 class="text-muted">Bhagat Tours & Travels (Rental Cars)</h4>
            </div>
          </div>
        </div>
        <div class="col-sm-4 offset-md-1">
            <h3 class="text-muted py-2 mb-1">Call</h3>
            <ul class="list-unstyled">
              <li><a href="tel:+919822547580" class="text-white"><i class="mx-2 fas fa-phone"></i> Avdhut Bhagat</a></li>
              <li><a href="tel:+918669158046" class="text-white"><i class="mx-2 fas fa-phone"></i> Nilesh Bhagat  </a></li>
              <h3 class="text-muted py-2 mb-1">Address</h3>
              <li><a href="https://goo.gl/maps/VVUbYDMRd6w5X3QE6" class="text-white" target="_blank"><i class="mx-2 fas fa-map-marked-alt"></i> Anmol Nayantara Gold, Pathardi phata, Nashik - 422010</a></li>
            </ul>
          </div>
        </div>
      </div>
      
    </div>
  </div>
  <div class="navbar navbar-dark bg-dark shadow-sm">
    <div class="container">
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarHeader" aria-controls="navbarHeader" aria-expanded="false" aria-label="Toggle navigation">
        <i class="fas fa-info-circle text-white"></i>
      </button>
      <a href="#ourProducts" class="d-flex align-items-center text-white" style="text-decoration: none;">
        <i class="fas fa-shopping-cart"></i><span class="mx-2 badge rounded-pill bg-light text-dark totalCartItems">0</span>
      </a>
    </div>
  </div>
</header>

<main>

  <section class="py-5 text-center container">
    <div class="row py-lg-3">
      <div class="col-lg-8 col-md-8 mx-auto">
        <h1 class="fw-bold display-1">Jai Malhar Chinese</h1>
        <p class="lead text-muted my-5">get <i>Tasty & Crunchy</i> Noodles, Rice, Soups, Chillies made with <br><b class="h3">good quality material and at most affordable price.</b></p>
        <a href="tel:+918669158046" class="btn btn-success">Call Now<i class="fas fa-phone mx-3"></i></a>
        <a href="#ourProducts" class="btn btn-primary mx-3 btn-success">WhastApp Order <i class="fab fa-whatsapp"></i></a>
      </div>
    </div>
  </section>

  <section id="ourProducts">
    <div class="album py-5 bg-light">
      <div class="container">
  
      <div class="display-4">Menu</div>
        <small><i>Select dishes</i></small>
        <div id="items"></div>
      </div>
    </div>
  </section>
  

  <div class="speciality py-5 bg-dark text-success">
    <div class="container">
      <div class="row">
          <div class="col-sm-4 py-3 text-center display-3"><i class="fas fa-tree mx-1"></i> Fresh</div>
          <div class="col-sm-4 py-3 text-center display-3"><i class="fas fa-heartbeat mx-1"></i> Tasty</div>
          <div class="col-sm-4 py-3 text-center display-3"><i class="fas fa-american-sign-language-interpreting mx-1"></i> Affordable</div>
      </div>
    </div>
  </div>

  <section id="yourCart">
    <div class="cart py-5">
      <div class="container">
          <div class="display-4 my-4 text-end">Your dishes</div>
          <small class="text-muted">Double click to remove item.</small>
          <table class="table">
            <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">Item</th>
                <th scope="col">Quantity</th>
              </tr>
            </thead>
            <tbody id="table">
              <tr id="noItems">
                <td colspan="5" class="text-center py-3">No dishes added yet! <br><a href="#ourProducts" class="btn btn-sm mt-2 btn-success">Order Now</a></td> 
              </tr>
            </tbody>
          </table>

      </div>
  </div>
  </section>
  

  <div class="bg-light placeorder">
    <div class="container">
      
      <div class="text-start display-4 pt-5">
        WhatsApp Order
      </div>

      <div class="input-group pt-4">
        <input type="text" aria-label="First name" id="name" placeholder="Name" class="form-control m-1">
      </div>
      <div class="input-group">
        <input type="text" aria-label="Address" id="address" placeholder="Address" class="form-control m-1">
      </div>
      <div class="input-group m-1">
        <button type="button" onclick="whatsAppOrder()" class="btn btn-primary btn-sm btn-success">WhastApp Order <i class="fab fa-whatsapp mx-2"></i></button>
      </div>

      <ul class="p-4 text-danger fw-lighter fs-6" id="errors"></ul>
    </div>
  </div>

</main>

<footer class="text-muted py-5">
  <div class="container">
    <p class="float-end mb-1">
      <a href="#"><i class="fas fa-lg fa-chevron-circle-up text-dark"></i></a>
    </p>
    <p class="mb-0">Made with <i class="fas fa-heart text-danger"></i> by <a href="mailto:ykumat@gmail.com">Yash Kumat.</a></p>
  </div>
</footer>

<div class="text-end fixed-bottom m-2">
  <a href="#yourCart" class="animate__animated" id="bottomCart">
    <i class="fas fa-shopping-cart text-danger"></i><span style="font-size: large;" class="badge rounded-pill text-danger totalCartItems">0</span>
  </a>
</div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>

<script>

  let items = {
    noodles : [
      ['Veg Noodles',[80, 40]], ['Soyabean Noodles', [100, 50]], ['Manchurian Noodles', [100, 50]], ['Schezwan Noodles', [100, 50]], ['Triple Noodles', [150]], ['Hakka Noodles', [140, 50]],
    ],
    rice : [
      ['Veg Rice',[80, 40]], ['Soyabean Rice', [100, 50]], ['Manchurian Rice', [100, 50]], ['Schezwan Rice', [100, 50]], ['Triple Rice', [140]], ['Fried Rice', [100, 50]], ['Franky Rice', [100, 50]],
    ],
    soup : [
      ['Veg Soup',[60]], ['Manchow Soup', [70]], ['Manchurian Soup', [70]],
    ],
    chilli : [
      ['Soyabean Chilli',[80, 40]], ['Soyabean Chilli Kadak',[100, 50]], ['Aloo Chilli', [100, 50]], ['Manchurian Chilli', [100, 50]], ['Paneer Chilli', [120]], ['Flower Chilli', [100, 50]], ['Finger Chips', [100]],
    ]

  }

  window.onload = () => {

    let items_list = ""

    for (let type_index = 0; type_index < Object.keys(items).length; type_index++) {

      let type_name = Object.keys(items)[type_index]

      items_list += 

        `<div class="row d-flex align-items-center my-5" id="${type_name}">`+
          `<div class="col-md-4">`+
            `<div class="card m-5">`+
              `<img src="${type_name}.png" class="card-img-bottom img-fluid" alt="...">`+
             ` <div class="card-body">`+
                `<h5 class="card-title text-center">${type_name}</h5>`+
              `</div>`+
            `</div>`+
          `</div>`+
          `<div class="col-md-8">`+
            `<div class="row row-cols-1 row-cols-sm-1 row-cols-md-3 g-3 d-flex justify-content-center" id="${type_name} List">`
            
      
              for (let item_index = 0; item_index < items[Object.keys(items)[type_index]].length; item_index++) {
                  const element2 = items[Object.keys(items)[type_index]][item_index];

                items_list += 
                `<div class="col">`+
                    `<div class="card shadow-sm">`+
                        `<div class="card-body">`+
                          `<h5 class="card-title itemName">${element2[0]}</h5>`+
                          `<div class="my-2">`;

                            if (element2[1][0]) {
                              items_list += `<span class="mx-3"><i class="fas fa-rupee-sign"></i> <b>${element2[1][0]}</b> Full</span>`;
                            }

                            if (element2[1][1]) {
                              items_list += `<span class="mx-3"><i class="fas fa-rupee-sign"></i> <b>${element2[1][1]}</b> Half</span>`;
                            }

                            items_list +=
                          `<form onsubmit="event.preventDefault(); addItem(${type_index},${item_index});" id="cartForm ${type_index} ${item_index}" >`+
                            `<div class="input-group">`+
                              `<input type="text" name="quantity" onkeypress='return checkIfNumber(event)' class="form-control" placeholder="Quantity" id="Quantity ${type_index} ${item_index}">`;

                              if(element2[1][0] && element2[1][1]){
                                items_list += `<select class="form-select" name="weight" aria-label="Weight" id="Weight ${type_index} ${item_index}" >`+
                                `<option value="1">Half</option>`+
                                `<option value="2">Full</option>`+
                              `</select>`;
                              }
                              
                              items_list += 
                               `<button type="submit" class="btn btn-outline-secondary"><i class="fa fa-plus"></i></button>`+
                            `</div>`+
                          `</form>`+
                        `</div>`+
                    `</div>`+
                  `</div>`+
                `</div>`;
              }

      items_list +=
        `</div>
          </div>
        </div>`;

      document.getElementById('items').innerHTML = items_list
      
    }
  }

  

  let cart = []

  addItem = (type_index, item_index) => { 

    var element = document.getElementById("bottomCart");
    element.classList.add('animate__flash')

    setTimeout(()=>{
      element.classList.remove('animate__flash')
    }, 2000)
    
    var item_name = items[Object.keys(items)[type_index]][item_index][0]
    var quantity = document.getElementById(`Quantity ${type_index} ${item_index}`).value
    var weight = document.getElementById(`Weight ${type_index} ${item_index}`).value

    var newItem = [];

    newItem.push(item_name)
    newItem.push(quantity)
    newItem.push(weight)

    cart.push(newItem)
    document.getElementById('yourCart').scrollIntoView();


    buildCart()


    document.getElementById(`cartForm ${type_index} ${item_index}`).reset()
    document.getElementById(`Quantity ${type_index} ${item_index}`).value = ''
  }

  buildCart = () => {

      document.getElementById("table").innerHTML = ''

      let i = 0;

      cart.forEach(item => {
        
        i++

        var table = document.getElementById("table");
        var row= document.createElement("tr");
        row.setAttribute("id", i);
        row.setAttribute("ondblclick", `deleteItem(${i})`);
        var th = document.createElement("th");
        var name = document.createElement("td");
        var quantity = document.createElement("td");

        th.innerHTML = i
        name.innerHTML = item[0]

        if(item[2] == 1){
          quantity.innerHTML = item[1] + " Half plate"
        }else{
          quantity.innerHTML = item[1] + " Full plate"
        }
        
        row.appendChild(th);
        row.appendChild(name);
        row.appendChild(quantity);
        table.appendChild(row);

      })

      
      let cartDisplay = document.getElementsByClassName('totalCartItems')
        Array.from(cartDisplay).forEach((el) => {
        el.innerHTML = cart.length
      });

    
  }

  deleteItem = (a) => {
    cart.splice(a-1,1)
    buildCart()
    if(cart.length == 0){
      document.getElementById('table').innerHTML = '<tr id="noItems"><td colspan="5" class="text-center py-3">No dishes added!<br><a href="#ourProducts" class="btn btn-sm mt-2 btn-success">Order Now</a></td></tr>'
    }
  }

  whatsAppOrder = () => {

    if(validateOrder()){
      
        let order = ''

        let name = document.getElementById('name').value
        let address = document.getElementById('address').value    

        order += 'Thanking for ordering from Jai Malhar Chinese.\n\n'

        order += 'Your Name: ' +name + '\n'
        order += 'Your Address: ' + address + '\n'

        order += '\nYour Order:\n'

        let i=0
        cart.forEach(item=>{
          i++
          if(item[2] == 1){
            order += i+ '. ' + item[0] + ' - ' + item[1] + " Half plate"
          }else{
            order += i+ '. ' + item[0] + ' - ' + item[1] + " Full plate"
          }
        })
        order += '\n'

        let num = +919527526222

        let msg = encodeURI(order);

        var win = window.open(`https://wa.me/${num}/?text=${msg}`, '_blank');
    }

  }

  validateOrder = () => {

    let err = ''

    if(document.getElementById('name').value == ''){
      err +='<li>Please enter name!</li>'
    }

    if(document.getElementById('address').value == ''){
      err += '<li>Please enter address!</li>'
    }

    if(cart.length == 0){
      document.getElementById('ourProducts').scrollIntoView();
      err += '<li>Please add Items!</li>'
    }

    if(err == ''){
      return true
    }else{
      
      document.getElementById('errors').innerHTML = err
      return false
    }
    
  }
  
  function checkIfNumber(evt) {
    var charCode = (evt.which) ? evt.which : evt.keyCode
    return !(charCode > 31 && (charCode < 48 || charCode > 57));
  }


</script>
      
  </body>
</html>
